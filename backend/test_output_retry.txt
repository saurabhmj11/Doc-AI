F:\product\company\ultra-doc-intelligence\backend\core\rag_pipeline.py:13: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
Number of requested results 3 is greater than number of elements in index 2, updating n_results = 2
Number of requested results 10 is greater than number of elements in index 2, updating n_results = 2
Number of requested results 10 is greater than number of elements in index 2, updating n_results = 2
Initializing components for Hallucination Control Test...
Loading embedding model (Gemini API)...
Gemini embedding model loaded!

--- Current Settings ---
Similarity Threshold: 0.3
Low Confidence Threshold: 0.5

Processing bill_of_lading_sample.txt...
 - Document added with ID: 7d957776-0a90-4df8-93cd-e0970d63a4b5

--- Debug Retrieval ---
Search Results for 'Who is the shipper?':
 - Score: 0.8928 | Text: NG INSTRUCTIONS ==================================...
 - Score: 0.8802 | Text: BILL OF LADING
BOL Number: BOL-2024-55891 Date Pre...

--- Test Case 1: Relevant Question ('Who is the shipper?') ---
Answer: Global Electronics Inc.
Confidence: 0.909 (high)
Guardrail Status: passed
SUCCESS: Output appears to be generated by LLM

--- Test Case 2: Irrelevant Question ('What is the capital of France?') ---
Answer: I cannot find the answer in the document.
Confidence: 0.648 (medium)
Guardrail Status: poor_grounding

SUCCESS: Hallucination controls are working as expected.
